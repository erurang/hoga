(this.webpackJsonphoga=this.webpackJsonphoga||[]).push([[0],{74:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(32),a=n.n(i),o=n(38),s=n(3),d={HOME:"/",EXCHANGE:"/exchange"},l=n(2),b=function(){return Object(l.jsx)("h1",{children:"home!"})},j=n(40),u=n(11),h=n(5),p={SELECT_DAY:"SELECT_DAY",TIMER_TIMESTAMP:"TIMER_TIMESTAMP"};var m,x,O,_,g,f,v,k,y,E=function(e,t){switch(t.type){case p.TIMER_TIMESTAMP:return Object(h.a)({},e);case p.SELECT_DAY:return Object(h.a)(Object(h.a)({},e),{},{date:t.timestamp});default:throw new Error("\uc798\ubabb\ub41c \uc561\uc158\ud0c0\uc785")}},S={date:null,coin:"null"},z=Object(r.createContext)(S),T=function(e){var t=e.children,n=Object(r.useReducer)(E,S),c=Object(u.a)(n,2),i=c[0],a=c[1];return console.log("select store"),Object(l.jsx)(z.Provider,{value:{state:i,dispatch:a},children:t})},w={timestamp:0,isPlay:!1},M=Object(r.createContext)(w),C=function(e){var t=e.children;console.log("timer store");var n=Object(r.useReducer)(E,w),c=Object(u.a)(n,2),i=c[0],a=c[1];return Object(l.jsx)(M.Provider,{value:{state:i,dispatch:a},children:t})},L=function(){var e=Object(r.useContext)(z),t=e.state,n=e.dispatch;console.log(t);return console.log("\uce98\ub9b0\ub354 \ub9ac\ub80c\ub354\ub9c1"),Object(l.jsx)(j.a,{onChange:function(e){return t=e,console.log(+new Date(t)+324e5),void n({type:p.SELECT_DAY,timestamp:+new Date(1633363848817)});var t}})},F=n(12),A=n(6),D=n(19),I=n.n(D),P=n(33),N=function(e){var t=e.prev_closing_price,n=e.change,r=e.change_price,c=e.coinName,i=e.index,a=t;return a="FALL"===n[i]?t-r[i]:t+r[i],console.log("\ud0c0\uc774\ud2c0 \ud638\uac00 \uc5c5\ub370\uc774\ud2b8"),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:c}),Object(l.jsxs)("h1",{style:a<t?{color:"blue"}:{color:"red"},children:[a.toLocaleString()," KRW"]}),Object(l.jsx)("h1",{style:"FALL"===n[i]?{color:"blue"}:"EVEN"===n[i]?{color:"black"}:{color:"red"},children:r[i].toLocaleString()})]})},q=c.a.memo(N),B=A.a.div(m||(m=Object(F.a)(["\n  width: 490px;\n  height: 795px;\n  overflow: auto;\n  border: 1px solid #f1f1f4;\n  text-align: center;\n  letter-spacing: 1px;\n"]))),H=A.a.div(x||(x=Object(F.a)(["\n  display: flex;\n  height: 45px;\n  border-top: 1px solid #f1f1f4;\n"]))),R=A.a.div(O||(O=Object(F.a)(["\n  text-align: right;\n  width: 162px;\n  border-right: 1px solid #f1f1f4;\n"]))),Y=A.a.div(_||(_=Object(F.a)(["\n  text-align: left;\n  width: 125px;\n  border-right: 1px solid #f1f1f4;\n"]))),G=A.a.div(g||(g=Object(F.a)(["\n  font-weight: 700;\n  width: 162px;\n  border-right: 1px solid #f1f1f4;\n"]))),J=(A.a.span(f||(f=Object(F.a)(['\n  color: "#115DCB";\n  font-size: 16px;\n']))),function(e){var t=e.index,n=e.orderbook,r=e.total_ask_size,c=e.total_bid_size,i=e.prev_closing_price,a=e.trade_price;return console.log("\uc624\ub354\ubd81 \uc5c5\ub370\uc774\ud2b8"),Object(l.jsxs)(B,{children:[Object(l.jsx)("h1",{children:t}),n[t].sort((function(e,t){return t.ask_price-e.ask_price})).map((function(e,n){return Object(l.jsxs)(H,{style:{backgroundColor:"rgba(0,98,223,.03)"},children:[Object(l.jsx)(R,{children:e.ask_size.toFixed(3)}),Object(l.jsx)(G,{style:i<e.ask_price.toLocaleString()?{color:"#d60000"}:{color:"#0051c7"},children:Object(l.jsxs)("div",{style:4===n&&a[t]===e.ask_price?{border:"3px solid black",boxSizing:"border-box",height:"100%"}:{},children:[e.ask_price.toLocaleString()," ",((e.ask_price-i)/i*100).toFixed(2),"%"]})})]},n)})),n[t].sort((function(e,t){return e.ask_price-t.ask_price})).map((function(e,n){return Object(l.jsxs)(H,{style:{backgroundColor:"rgba(216,14,53,.04)"},children:[Object(l.jsx)(R,{}),Object(l.jsx)(G,{style:i<e.ask_price?{color:"#d60000"}:{color:"#0051c7"},children:Object(l.jsxs)("div",{style:0===n&&a[t]===e.bid_price?{border:"3px solid black",boxSizing:"border-box",height:"100%"}:{},children:[e.bid_price.toLocaleString()," ",((e.bid_price-i)/i*100).toFixed(2),"%"]})}),Object(l.jsx)(Y,{children:e.bid_size.toFixed(3)})]},n)})),Object(l.jsxs)(H,{children:[Object(l.jsx)(R,{children:r[t].toFixed(3)}),Object(l.jsx)(G,{children:"\uc218\ub7c9 "}),Object(l.jsx)(Y,{children:c[t].toFixed(3)})]})]})}),X=c.a.memo(J),K=function(e){var t=e.number,n=e.handlePlusTimerButton;return Object(l.jsx)("button",{onClick:function(e){return n(e)},children:t})},V=function(e){var t=e.ask_bid,n=e.trade_price,c=e.trade_timestamp,i=e.trade_volume,a=e.timestamp,o=Object(r.useState)(0),s=Object(u.a)(o,2),d=s[0],b=s[1],j=Object(r.useState)([]),h=Object(u.a)(j,2),p=h[0],m=h[1];if(a>=c[d])if(console.log("\uccb4\uacb0\ub0b4\uc5ed \uc5c5\ub370\uc774\ud2b8"),b((function(e){return e+1})),p.length<10){var x=p;x.push([n[d].toLocaleString(),i[d].toFixed(3),t[d]]),m(x)}else{for(var O=p;O.length>=19;)O.shift();O.push([n[d].toLocaleString(),i[d].toFixed(3),t[d]]),m(O)}return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("ul",{children:null===p||void 0===p?void 0:p.reverse().map((function(e,t){return Object(l.jsxs)("li",{style:"BID"===e[2]?{color:"#d60000"}:{color:"#0051c7"},children:["\uccb4\uacb0\uac00 : ",e[0]," \uccb4\uacb0\ub7c9 :",e[1]]},t)}))})})},W=function(e){var t=e.coinName,n=e.date,c=e.timestamp,i=e.orderbook,a=e.total_ask_size,o=e.total_bid_size,s=e.ask_bid,d=e.change,b=e.change_price,j=e.prev_closing_price,p=e.trade_price,m=e.trade_timestamp,x=e.trade_volume,O=Object(r.useMemo)((function(){return new Date(n)}),[n]),_=Object(r.useState)({hours:O.getHours(),minutes:O.getMinutes(),seconds:O.getSeconds(),milliseconds:O.getMilliseconds(),timestamp:+O}),g=Object(u.a)(_,2),f=g[0],v=g[1],k=Object(r.useState)(!1),y=Object(u.a)(k,2),E=y[0],S=y[1],z=Object(r.useState)(0),T=Object(u.a)(z,2),w=T[0],M=T[1];function C(e){S(!1);var t=+e.target.innerText,n=0;1===t?n=6e4:5===t?n=3e5:10===t?n=6e5:30===t&&(n=18e5);var r=new Date(f.timestamp+n),i=c.findIndex((function(e){return e>=+r+n}));-1!==i&&(v({hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds(),timestamp:+r}),M(i))}return Object(r.useEffect)((function(){if(E){var e=setInterval((function(){v(Object(h.a)(Object(h.a)({},f),{},{milliseconds:f.milliseconds+1,timestamp:f.timestamp+10}))}),10);return f.milliseconds>=99&&v(Object(h.a)(Object(h.a)({},f),{},{milliseconds:0,seconds:f.seconds+1})),f.seconds>=60&&v(Object(h.a)(Object(h.a)({},f),{},{seconds:0,minutes:f.minutes+1})),f.minutes>=60&&v(Object(h.a)(Object(h.a)({},f),{},{minutes:0,hours:f.hours+1})),f.timestamp>=c[w]&&M((function(e){return e+1})),function(){return clearInterval(e)}}}),[E,f]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h1",{children:[f.hours,":",f.minutes,":",f.seconds,":",f.milliseconds]}),Object(l.jsx)(q,{prev_closing_price:j,change:d,change_price:b,coinName:t,index:w}),Object(l.jsx)("button",{onClick:function(){return S((function(e){return!e}))},children:"play"}),Object(l.jsx)(K,{number:1,handlePlusTimerButton:C}),Object(l.jsx)(K,{number:5,handlePlusTimerButton:C}),Object(l.jsx)(K,{number:10,handlePlusTimerButton:C}),Object(l.jsx)(K,{number:30,handlePlusTimerButton:C}),Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)(X,{index:w,orderbook:i,total_ask_size:a,total_bid_size:o,prev_closing_price:j,trade_price:p}),Object(l.jsx)(V,{ask_bid:s,prev_closing_price:j,trade_price:p,trade_timestamp:m,trade_volume:x,timestamp:f.timestamp})]})]})},Q=n(37),U=n.n(Q),Z=function(e){var t=e.coin,n=e.date,c=Object(r.useState)({data:null,error:!1,loading:!0}),i=Object(u.a)(c,2),a=i[0],o=i[1];return Object(r.useEffect)(Object(P.a)(I.a.mark((function e(){var t,n,r,c,i,s,d,l,b,j,u,p,m,x;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("\ub370\uc774\ud130 \uac00\uc838\uc624\ub294\uc911..."),e.next=4,U.a.get("http://localhost:4000/users/getData");case 4:t=e.sent,n=t.data.orderbook,r=t.data.coinName,c=t.data.timestamp,i=t.data.total_ask_size,s=t.data.total_bid_size,d=t.data.trade,l=d.ask_bid,b=d.change,j=d.change_price,u=d.prev_closing_price,p=d.trade_price,m=d.timestamp,x=d.trade_volume,o(Object(h.a)(Object(h.a)({},a),{},{data:{coinName:r,timestamp:c,orderbook:n,total_ask_size:i,total_bid_size:s},trade:{ask_bid:l,change:b,change_price:j,prev_closing_price:u,trade_price:p,trade_timestamp:m,trade_volume:x},loading:!1})),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log("\ub370\uc774\ud130 \uac00\uc838\uc624\uae30 \uc624\ub958!",e.t0),o(Object(h.a)(Object(h.a)({},a),{},{error:!0,loading:!1}));case 25:case"end":return e.stop()}}),e,null,[[0,21]])}))),[]),console.log("\ucef4\ud3ec\ub10c\ud2b8 \ub9c8\uc6b4\ud2b8\ub428",a),a.loading?Object(l.jsx)("h1",{children:"\ub85c\ub529\uc911\uc785\ub2c8\ub2e4.."}):a.error?Object(l.jsx)("h1",{children:"\ub370\uc774\ud130\ub97c \ubc1b\uc544\uc62c\uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h1",{children:[t,",",n]}),Object(l.jsx)(W,{date:n,coinName:a.data.coinName,orderbook:a.data.orderbook,timestamp:a.data.timestamp,total_ask_size:a.data.total_ask_size,total_bid_size:a.data.total_bid_size,ask_bid:a.trade.ask_bid,change:a.trade.change,change_price:a.trade.change_price,prev_closing_price:a.trade.prev_closing_price,trade_price:a.trade.trade_price,trade_timestamp:a.trade.trade_timestamp,trade_volume:a.trade.trade_volume})]})},$=(A.a.div(v||(v=Object(F.a)(["\n  border: 1px solid;\n  width: 500px;\n  height: 500px;\n"]))),function(){var e=Object(r.useContext)(z),t=e.state;e.dispatch;return t.date&&t.coin?Object(l.jsx)(Z,{coin:t.coin,date:t.date}):Object(l.jsx)("h1",{children:"\ub0a0\uc9dc\uc640 \ucf54\uc778\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694"})}),ee=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(L,{}),Object(l.jsx)($,{})]})},te=A.a.div(k||(k=Object(F.a)(['\n  html,\n  body,\n  div,\n  span,\n  applet,\n  object,\n  iframe,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p,\n  blockquote,\n  pre,\n  a,\n  abbr,\n  acronym,\n  address,\n  big,\n  cite,\n  code,\n  del,\n  dfn,\n  em,\n  img,\n  ins,\n  kbd,\n  q,\n  s,\n  samp,\n  small,\n  strike,\n  strong,\n  sub,\n  sup,\n  tt,\n  var,\n  b,\n  u,\n  i,\n  center,\n  dl,\n  dt,\n  dd,\n  ol,\n  ul,\n  li,\n  fieldset,\n  form,\n  label,\n  legend,\n  table,\n  caption,\n  tbody,\n  tfoot,\n  thead,\n  tr,\n  th,\n  td,\n  article,\n  aside,\n  canvas,\n  details,\n  embed,\n  figure,\n  figcaption,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  output,\n  ruby,\n  section,\n  summary,\n  time,\n  mark,\n  audio,\n  video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article,\n  aside,\n  details,\n  figcaption,\n  figure,\n  footer,\n  header,\n  hgroup,\n  menu,\n  nav,\n  section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol,\n  ul {\n    list-style: none;\n  }\n  blockquote,\n  q {\n    quotes: none;\n  }\n  blockquote:before,\n  blockquote:after,\n  q:before,\n  q:after {\n    content: "";\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n']))),ne=A.a.div(y||(y=Object(F.a)([""]))),re=function(e){var t=e.children;return Object(l.jsx)(te,{children:Object(l.jsx)(ne,{children:t})})};var ce=function(){return Object(l.jsx)(o.a,{children:Object(l.jsx)(s.c,{children:Object(l.jsxs)(re,{children:[Object(l.jsx)(s.a,{path:d.HOME,exact:!0,children:Object(l.jsx)(b,{})}),Object(l.jsx)(s.a,{path:d.EXCHANGE,children:Object(l.jsx)(T,{children:Object(l.jsx)(C,{children:Object(l.jsx)(ee,{})})})})]})})})};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(ce,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.ad8c5306.chunk.js.map